\doxysection{MS\+\_\+\+RF\+\_\+\+Board/src/\+Voltage\+Sensing/voltage\+\_\+sensing.c File Reference}
\hypertarget{voltage__sensing_8c}{}\label{voltage__sensing_8c}\index{MS\_RF\_Board/src/VoltageSensing/voltage\_sensing.c@{MS\_RF\_Board/src/VoltageSensing/voltage\_sensing.c}}
{\ttfamily \#include "{}voltage\+\_\+sensing.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+log.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+adc/adc\+\_\+oneshot.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+adc/adc\+\_\+cali.\+h"{}}\newline
{\ttfamily \#include "{}esp\+\_\+adc/adc\+\_\+cali\+\_\+scheme.\+h"{}}\newline
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{voltage__sensing_8c_afc3d101f633a076cc1ca84b85b6224b2}{TAG}}~"{}Voltage\+Sensing"{}
\item 
\#define \mbox{\hyperlink{voltage__sensing_8c_a63baed8df076ce9dddaea1ae8694c1d8}{DEFAULT\+\_\+\+VREF}}~1100
\item 
\#define \mbox{\hyperlink{voltage__sensing_8c_acd551a81feacd3e44e123c52c05c359a}{VOLTAGE\+\_\+\+DIVIDER\+\_\+\+RATIO}}~10.\+0
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{voltage__sensing_8c_a5608722b9cc8b2353361878d1a7d2ebc}{voltage\+\_\+sensing\+\_\+init}} ()
\begin{DoxyCompactList}\small\item\em Initialize the voltage sensing module. \end{DoxyCompactList}\item 
float \mbox{\hyperlink{voltage__sensing_8c_a2885f361bd90eebc80bbf02dd7127042}{voltage\+\_\+sensing\+\_\+get\+\_\+debounced}} ()
\begin{DoxyCompactList}\small\item\em Get the debounced voltage measurement. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{voltage__sensing_8c_a8b41fe14253d1e3ad62c27f816626775}{voltage\+\_\+sensing\+\_\+update}} ()
\begin{DoxyCompactList}\small\item\em Update the debounced voltage buffer. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{voltage__sensing_8c_a58c2ee7d053d488ba675acf8c209870d}{voltage\+\_\+sensing\+\_\+run}} ()
\begin{DoxyCompactList}\small\item\em Run the voltage sensing task. \end{DoxyCompactList}\item 
void \mbox{\hyperlink{voltage__sensing_8c_a5978856c10d1f720a7acf7969d59ba76}{voltage\+\_\+sensing\+\_\+deinit}} ()
\begin{DoxyCompactList}\small\item\em Deinitialize the voltage sensing module. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Macro Definition Documentation}
\Hypertarget{voltage__sensing_8c_a63baed8df076ce9dddaea1ae8694c1d8}\index{voltage\_sensing.c@{voltage\_sensing.c}!DEFAULT\_VREF@{DEFAULT\_VREF}}
\index{DEFAULT\_VREF@{DEFAULT\_VREF}!voltage\_sensing.c@{voltage\_sensing.c}}
\doxysubsubsection{\texorpdfstring{DEFAULT\_VREF}{DEFAULT\_VREF}}
{\footnotesize\ttfamily \label{voltage__sensing_8c_a63baed8df076ce9dddaea1ae8694c1d8} 
\#define DEFAULT\+\_\+\+VREF~1100}



Definition at line \mbox{\hyperlink{voltage__sensing_8c_source_l00010}{10}} of file \mbox{\hyperlink{voltage__sensing_8c_source}{voltage\+\_\+sensing.\+c}}.

\Hypertarget{voltage__sensing_8c_afc3d101f633a076cc1ca84b85b6224b2}\index{voltage\_sensing.c@{voltage\_sensing.c}!TAG@{TAG}}
\index{TAG@{TAG}!voltage\_sensing.c@{voltage\_sensing.c}}
\doxysubsubsection{\texorpdfstring{TAG}{TAG}}
{\footnotesize\ttfamily \label{voltage__sensing_8c_afc3d101f633a076cc1ca84b85b6224b2} 
\#define TAG~"{}Voltage\+Sensing"{}}



Definition at line \mbox{\hyperlink{voltage__sensing_8c_source_l00007}{7}} of file \mbox{\hyperlink{voltage__sensing_8c_source}{voltage\+\_\+sensing.\+c}}.

\Hypertarget{voltage__sensing_8c_acd551a81feacd3e44e123c52c05c359a}\index{voltage\_sensing.c@{voltage\_sensing.c}!VOLTAGE\_DIVIDER\_RATIO@{VOLTAGE\_DIVIDER\_RATIO}}
\index{VOLTAGE\_DIVIDER\_RATIO@{VOLTAGE\_DIVIDER\_RATIO}!voltage\_sensing.c@{voltage\_sensing.c}}
\doxysubsubsection{\texorpdfstring{VOLTAGE\_DIVIDER\_RATIO}{VOLTAGE\_DIVIDER\_RATIO}}
{\footnotesize\ttfamily \label{voltage__sensing_8c_acd551a81feacd3e44e123c52c05c359a} 
\#define VOLTAGE\+\_\+\+DIVIDER\+\_\+\+RATIO~10.\+0}



Definition at line \mbox{\hyperlink{voltage__sensing_8c_source_l00011}{11}} of file \mbox{\hyperlink{voltage__sensing_8c_source}{voltage\+\_\+sensing.\+c}}.



\doxysubsection{Function Documentation}
\Hypertarget{voltage__sensing_8c_a5978856c10d1f720a7acf7969d59ba76}\index{voltage\_sensing.c@{voltage\_sensing.c}!voltage\_sensing\_deinit@{voltage\_sensing\_deinit}}
\index{voltage\_sensing\_deinit@{voltage\_sensing\_deinit}!voltage\_sensing.c@{voltage\_sensing.c}}
\doxysubsubsection{\texorpdfstring{voltage\_sensing\_deinit()}{voltage\_sensing\_deinit()}}
{\footnotesize\ttfamily \label{voltage__sensing_8c_a5978856c10d1f720a7acf7969d59ba76} 
void voltage\+\_\+sensing\+\_\+deinit (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Deinitialize the voltage sensing module. 

Cleans up resources used by the voltage sensing module. 

Definition at line \mbox{\hyperlink{voltage__sensing_8c_source_l00121}{121}} of file \mbox{\hyperlink{voltage__sensing_8c_source}{voltage\+\_\+sensing.\+c}}.

\Hypertarget{voltage__sensing_8c_a2885f361bd90eebc80bbf02dd7127042}\index{voltage\_sensing.c@{voltage\_sensing.c}!voltage\_sensing\_get\_debounced@{voltage\_sensing\_get\_debounced}}
\index{voltage\_sensing\_get\_debounced@{voltage\_sensing\_get\_debounced}!voltage\_sensing.c@{voltage\_sensing.c}}
\doxysubsubsection{\texorpdfstring{voltage\_sensing\_get\_debounced()}{voltage\_sensing\_get\_debounced()}}
{\footnotesize\ttfamily \label{voltage__sensing_8c_a2885f361bd90eebc80bbf02dd7127042} 
float voltage\+\_\+sensing\+\_\+get\+\_\+debounced (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Get the debounced voltage measurement. 

Averages the last 5 voltage measurements to provide a stable reading.

\begin{DoxyReturn}{Returns}
The debounced load voltage in volts. 
\end{DoxyReturn}


Definition at line \mbox{\hyperlink{voltage__sensing_8c_source_l00085}{85}} of file \mbox{\hyperlink{voltage__sensing_8c_source}{voltage\+\_\+sensing.\+c}}.

\Hypertarget{voltage__sensing_8c_a5608722b9cc8b2353361878d1a7d2ebc}\index{voltage\_sensing.c@{voltage\_sensing.c}!voltage\_sensing\_init@{voltage\_sensing\_init}}
\index{voltage\_sensing\_init@{voltage\_sensing\_init}!voltage\_sensing.c@{voltage\_sensing.c}}
\doxysubsubsection{\texorpdfstring{voltage\_sensing\_init()}{voltage\_sensing\_init()}}
{\footnotesize\ttfamily \label{voltage__sensing_8c_a5608722b9cc8b2353361878d1a7d2ebc} 
void voltage\+\_\+sensing\+\_\+init (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Initialize the voltage sensing module. 

Configures the ADC to read voltage measurements and sets up calibration. 

Definition at line \mbox{\hyperlink{voltage__sensing_8c_source_l00025}{25}} of file \mbox{\hyperlink{voltage__sensing_8c_source}{voltage\+\_\+sensing.\+c}}.

\Hypertarget{voltage__sensing_8c_a58c2ee7d053d488ba675acf8c209870d}\index{voltage\_sensing.c@{voltage\_sensing.c}!voltage\_sensing\_run@{voltage\_sensing\_run}}
\index{voltage\_sensing\_run@{voltage\_sensing\_run}!voltage\_sensing.c@{voltage\_sensing.c}}
\doxysubsubsection{\texorpdfstring{voltage\_sensing\_run()}{voltage\_sensing\_run()}}
{\footnotesize\ttfamily \label{voltage__sensing_8c_a58c2ee7d053d488ba675acf8c209870d} 
void voltage\+\_\+sensing\+\_\+run (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Run the voltage sensing task. 

Updates the debounced buffer and logs the voltage. 

Definition at line \mbox{\hyperlink{voltage__sensing_8c_source_l00110}{110}} of file \mbox{\hyperlink{voltage__sensing_8c_source}{voltage\+\_\+sensing.\+c}}.

\Hypertarget{voltage__sensing_8c_a8b41fe14253d1e3ad62c27f816626775}\index{voltage\_sensing.c@{voltage\_sensing.c}!voltage\_sensing\_update@{voltage\_sensing\_update}}
\index{voltage\_sensing\_update@{voltage\_sensing\_update}!voltage\_sensing.c@{voltage\_sensing.c}}
\doxysubsubsection{\texorpdfstring{voltage\_sensing\_update()}{voltage\_sensing\_update()}}
{\footnotesize\ttfamily \label{voltage__sensing_8c_a8b41fe14253d1e3ad62c27f816626775} 
void voltage\+\_\+sensing\+\_\+update (\begin{DoxyParamCaption}\item[{void}]{}{}\end{DoxyParamCaption})}



Update the debounced voltage buffer. 

Reads the raw voltage and updates the buffer for debouncing. 

Definition at line \mbox{\hyperlink{voltage__sensing_8c_source_l00098}{98}} of file \mbox{\hyperlink{voltage__sensing_8c_source}{voltage\+\_\+sensing.\+c}}.

