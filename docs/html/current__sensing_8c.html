<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>MS_RF_Board: MS_RF_Board/src/CurrentSensing/current_sensing.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">MS_RF_Board
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('current__sensing_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#define-members">Macros</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">current_sensing.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Current Sensing Software Component (SWC) for MS_RF_Board.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="current__sensing_8h_source.html">current_sensing.h</a>&quot;</code><br />
<code>#include &quot;esp_log.h&quot;</code><br />
<code>#include &quot;esp_adc/adc_oneshot.h&quot;</code><br />
<code>#include &quot;esp_adc/adc_cali.h&quot;</code><br />
<code>#include &quot;esp_adc/adc_cali_scheme.h&quot;</code><br />
<code>#include &quot;freertos/FreeRTOS.h&quot;</code><br />
<code>#include &quot;freertos/task.h&quot;</code><br />
</div>
<p><a href="current__sensing_8c_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="define-members" name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:afc3d101f633a076cc1ca84b85b6224b2" id="r_afc3d101f633a076cc1ca84b85b6224b2"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#afc3d101f633a076cc1ca84b85b6224b2">TAG</a>&#160;&#160;&#160;&quot;CurrentSensing&quot;</td></tr>
<tr class="separator:afc3d101f633a076cc1ca84b85b6224b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63baed8df076ce9dddaea1ae8694c1d8" id="r_a63baed8df076ce9dddaea1ae8694c1d8"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a63baed8df076ce9dddaea1ae8694c1d8">DEFAULT_VREF</a>&#160;&#160;&#160;1100</td></tr>
<tr class="separator:a63baed8df076ce9dddaea1ae8694c1d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80534669f8249303c92ccb58e19c4458" id="r_a80534669f8249303c92ccb58e19c4458"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a80534669f8249303c92ccb58e19c4458">CURRENT_SENSE_RESISTOR</a>&#160;&#160;&#160;0.015</td></tr>
<tr class="separator:a80534669f8249303c92ccb58e19c4458"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23355696f4644d6e2eb33dc21e441efe" id="r_a23355696f4644d6e2eb33dc21e441efe"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a23355696f4644d6e2eb33dc21e441efe">CURRENT_SENSE_GAIN</a>&#160;&#160;&#160;20.0</td></tr>
<tr class="separator:a23355696f4644d6e2eb33dc21e441efe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83d3945d15fed15b11d91b44a4b6ef3d" id="r_a83d3945d15fed15b11d91b44a4b6ef3d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a83d3945d15fed15b11d91b44a4b6ef3d">CURRENT_LIMIT_SAFE</a>&#160;&#160;&#160;0.1</td></tr>
<tr class="separator:a83d3945d15fed15b11d91b44a4b6ef3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2856f30bec96a819a50033baa653b671" id="r_a2856f30bec96a819a50033baa653b671"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2856f30bec96a819a50033baa653b671">SENSOR_1_CHANNEL</a>&#160;&#160;&#160;ADC_CHANNEL_4</td></tr>
<tr class="separator:a2856f30bec96a819a50033baa653b671"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a64f0d1ebf3de5a3a23c273d7f4d30ad3" id="r_a64f0d1ebf3de5a3a23c273d7f4d30ad3"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a64f0d1ebf3de5a3a23c273d7f4d30ad3">SENSOR_2_CHANNEL</a>&#160;&#160;&#160;ADC_CHANNEL_7</td></tr>
<tr class="separator:a64f0d1ebf3de5a3a23c273d7f4d30ad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa2b5d5131ffb73df0b95b297d19cdd2b" id="r_aa2b5d5131ffb73df0b95b297d19cdd2b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aa2b5d5131ffb73df0b95b297d19cdd2b">current_sensing_init</a> ()</td></tr>
<tr class="memdesc:aa2b5d5131ffb73df0b95b297d19cdd2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize the current sensing module.  <br /></td></tr>
<tr class="separator:aa2b5d5131ffb73df0b95b297d19cdd2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2fd520948a1a94b10b169c14024f124d" id="r_a2fd520948a1a94b10b169c14024f124d"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2fd520948a1a94b10b169c14024f124d">current_sensing_get_debounced</a> (<a class="el" href="current__sensing_8h.html#a785728f49ef7f6245c219ceb32cc070a">current_sensor_t</a> sensor)</td></tr>
<tr class="memdesc:a2fd520948a1a94b10b169c14024f124d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the debounced current measurement from a specific sensor.  <br /></td></tr>
<tr class="separator:a2fd520948a1a94b10b169c14024f124d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fc7857163650346e69447ef36bb7bed" id="r_a4fc7857163650346e69447ef36bb7bed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4fc7857163650346e69447ef36bb7bed">current_sensing_update</a> (<a class="el" href="current__sensing_8h.html#a785728f49ef7f6245c219ceb32cc070a">current_sensor_t</a> sensor)</td></tr>
<tr class="memdesc:a4fc7857163650346e69447ef36bb7bed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the debounced current buffer for a specific sensor.  <br /></td></tr>
<tr class="separator:a4fc7857163650346e69447ef36bb7bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c5526dedfaebc125ae1f86a5779fd43" id="r_a2c5526dedfaebc125ae1f86a5779fd43"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2c5526dedfaebc125ae1f86a5779fd43">current_sensing_process</a> ()</td></tr>
<tr class="memdesc:a2c5526dedfaebc125ae1f86a5779fd43"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cyclically process current updates for all sensors.  <br /></td></tr>
<tr class="separator:a2c5526dedfaebc125ae1f86a5779fd43"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b5de34fc5ae069707ad8fa60a680621" id="r_a4b5de34fc5ae069707ad8fa60a680621"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4b5de34fc5ae069707ad8fa60a680621">current_sensing_set_limit</a> (float limit)</td></tr>
<tr class="memdesc:a4b5de34fc5ae069707ad8fa60a680621"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the app-defined current limit.  <br /></td></tr>
<tr class="separator:a4b5de34fc5ae069707ad8fa60a680621"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4bf9dcd8ca1efb523282595407ed350" id="r_af4bf9dcd8ca1efb523282595407ed350"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af4bf9dcd8ca1efb523282595407ed350">current_sensing_get_limit</a> ()</td></tr>
<tr class="memdesc:af4bf9dcd8ca1efb523282595407ed350"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the app-defined current limit.  <br /></td></tr>
<tr class="separator:af4bf9dcd8ca1efb523282595407ed350"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a86dea9a69f74319728052fa593525a65" id="r_a86dea9a69f74319728052fa593525a65"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a86dea9a69f74319728052fa593525a65">current_sensing_deinit</a> ()</td></tr>
<tr class="memdesc:a86dea9a69f74319728052fa593525a65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Deinitialize the current sensing module.  <br /></td></tr>
<tr class="separator:a86dea9a69f74319728052fa593525a65"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Current Sensing Software Component (SWC) for MS_RF_Board. </p>
<p>This module monitors the current passing through the load and provides an interface for the gate driver module to retrieve raw and debounced current measurements. The gate driver uses this information to decide when to disable or enable the gate.</p>
<dl class="section date"><dt>Date</dt><dd>2025-01-26 </dd></dl>

<p class="definition">Definition in file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>
</div><h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a83d3945d15fed15b11d91b44a4b6ef3d" name="a83d3945d15fed15b11d91b44a4b6ef3d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a83d3945d15fed15b11d91b44a4b6ef3d">&#9670;&#160;</a></span>CURRENT_LIMIT_SAFE</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CURRENT_LIMIT_SAFE&#160;&#160;&#160;0.1</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="current__sensing_8c_source.html#l00028">28</a> of file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>

</div>
</div>
<a id="a23355696f4644d6e2eb33dc21e441efe" name="a23355696f4644d6e2eb33dc21e441efe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23355696f4644d6e2eb33dc21e441efe">&#9670;&#160;</a></span>CURRENT_SENSE_GAIN</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CURRENT_SENSE_GAIN&#160;&#160;&#160;20.0</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="current__sensing_8c_source.html#l00025">25</a> of file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>

</div>
</div>
<a id="a80534669f8249303c92ccb58e19c4458" name="a80534669f8249303c92ccb58e19c4458"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80534669f8249303c92ccb58e19c4458">&#9670;&#160;</a></span>CURRENT_SENSE_RESISTOR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CURRENT_SENSE_RESISTOR&#160;&#160;&#160;0.015</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="current__sensing_8c_source.html#l00024">24</a> of file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>

</div>
</div>
<a id="a63baed8df076ce9dddaea1ae8694c1d8" name="a63baed8df076ce9dddaea1ae8694c1d8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a63baed8df076ce9dddaea1ae8694c1d8">&#9670;&#160;</a></span>DEFAULT_VREF</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define DEFAULT_VREF&#160;&#160;&#160;1100</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="current__sensing_8c_source.html#l00023">23</a> of file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>

</div>
</div>
<a id="a2856f30bec96a819a50033baa653b671" name="a2856f30bec96a819a50033baa653b671"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2856f30bec96a819a50033baa653b671">&#9670;&#160;</a></span>SENSOR_1_CHANNEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SENSOR_1_CHANNEL&#160;&#160;&#160;ADC_CHANNEL_4</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="current__sensing_8c_source.html#l00038">38</a> of file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>

</div>
</div>
<a id="a64f0d1ebf3de5a3a23c273d7f4d30ad3" name="a64f0d1ebf3de5a3a23c273d7f4d30ad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a64f0d1ebf3de5a3a23c273d7f4d30ad3">&#9670;&#160;</a></span>SENSOR_2_CHANNEL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define SENSOR_2_CHANNEL&#160;&#160;&#160;ADC_CHANNEL_7</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="current__sensing_8c_source.html#l00039">39</a> of file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>

</div>
</div>
<a id="afc3d101f633a076cc1ca84b85b6224b2" name="afc3d101f633a076cc1ca84b85b6224b2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc3d101f633a076cc1ca84b85b6224b2">&#9670;&#160;</a></span>TAG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TAG&#160;&#160;&#160;&quot;CurrentSensing&quot;</td>
        </tr>
      </table>
</div><div class="memdoc">

<p class="definition">Definition at line <a class="el" href="current__sensing_8c_source.html#l00020">20</a> of file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a86dea9a69f74319728052fa593525a65" name="a86dea9a69f74319728052fa593525a65"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a86dea9a69f74319728052fa593525a65">&#9670;&#160;</a></span>current_sensing_deinit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void current_sensing_deinit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Deinitialize the current sensing module. </p>
<p>Cleans up resources used by the current sensing module. </p>

<p class="definition">Definition at line <a class="el" href="current__sensing_8c_source.html#l00175">175</a> of file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>

</div>
</div>
<a id="a2fd520948a1a94b10b169c14024f124d" name="a2fd520948a1a94b10b169c14024f124d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2fd520948a1a94b10b169c14024f124d">&#9670;&#160;</a></span>current_sensing_get_debounced()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float current_sensing_get_debounced </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="current__sensing_8h.html#a785728f49ef7f6245c219ceb32cc070a">current_sensor_t</a></td>          <td class="paramname"><span class="paramname"><em>sensor</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the debounced current measurement from a specific sensor. </p>
<p>Averages the last 5 current measurements to provide a stable reading.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sensor</td><td>The current sensor to retrieve debounced data from (SENSOR_1 or SENSOR_2). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The debounced load current in amperes. </dd></dl>

<p class="definition">Definition at line <a class="el" href="current__sensing_8c_source.html#l00114">114</a> of file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>

</div>
</div>
<a id="af4bf9dcd8ca1efb523282595407ed350" name="af4bf9dcd8ca1efb523282595407ed350"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4bf9dcd8ca1efb523282595407ed350">&#9670;&#160;</a></span>current_sensing_get_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float current_sensing_get_limit </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the app-defined current limit. </p>
<dl class="section return"><dt>Returns</dt><dd>The app-defined current limit in amperes. </dd></dl>

<p class="definition">Definition at line <a class="el" href="current__sensing_8c_source.html#l00166">166</a> of file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>

</div>
</div>
<a id="aa2b5d5131ffb73df0b95b297d19cdd2b" name="aa2b5d5131ffb73df0b95b297d19cdd2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa2b5d5131ffb73df0b95b297d19cdd2b">&#9670;&#160;</a></span>current_sensing_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void current_sensing_init </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize the current sensing module. </p>
<p>Configures the ADC to read current measurements and sets up calibration. </p>

<p class="definition">Definition at line <a class="el" href="current__sensing_8c_source.html#l00046">46</a> of file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>

</div>
</div>
<a id="a2c5526dedfaebc125ae1f86a5779fd43" name="a2c5526dedfaebc125ae1f86a5779fd43"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c5526dedfaebc125ae1f86a5779fd43">&#9670;&#160;</a></span>current_sensing_process()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void current_sensing_process </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cyclically process current updates for all sensors. </p>
<p>This function is called periodically to ensure the buffers for all sensors are updated. </p>

<p class="definition">Definition at line <a class="el" href="current__sensing_8c_source.html#l00146">146</a> of file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>

</div>
</div>
<a id="a4b5de34fc5ae069707ad8fa60a680621" name="a4b5de34fc5ae069707ad8fa60a680621"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b5de34fc5ae069707ad8fa60a680621">&#9670;&#160;</a></span>current_sensing_set_limit()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void current_sensing_set_limit </td>
          <td>(</td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>limit</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the app-defined current limit. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">limit</td><td>The current limit in amperes. </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="current__sensing_8c_source.html#l00156">156</a> of file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>

</div>
</div>
<a id="a4fc7857163650346e69447ef36bb7bed" name="a4fc7857163650346e69447ef36bb7bed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4fc7857163650346e69447ef36bb7bed">&#9670;&#160;</a></span>current_sensing_update()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void current_sensing_update </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="current__sensing_8h.html#a785728f49ef7f6245c219ceb32cc070a">current_sensor_t</a></td>          <td class="paramname"><span class="paramname"><em>sensor</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the debounced current buffer for a specific sensor. </p>
<p>Reads the raw current and updates the buffer for debouncing.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sensor</td><td>The current sensor to update (SENSOR_1 or SENSOR_2). </td></tr>
  </table>
  </dd>
</dl>

<p class="definition">Definition at line <a class="el" href="current__sensing_8c_source.html#l00131">131</a> of file <a class="el" href="current__sensing_8c_source.html">current_sensing.c</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_95dda314082d3f92f00484910645ca18.html">MS_RF_Board</a></li><li class="navelem"><a class="el" href="dir_31e5e5974200274f43bbb5146f4f4f93.html">src</a></li><li class="navelem"><a class="el" href="dir_8c23a181b6f81d94ad107ba231669363.html">CurrentSensing</a></li><li class="navelem"><a class="el" href="current__sensing_8c.html">current_sensing.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
